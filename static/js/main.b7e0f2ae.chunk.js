(this["webpackJsonpbook-list"]=this["webpackJsonpbook-list"]||[]).push([[0],{14:function(e,t,a){e.exports={wrapper:"BookCard_wrapper__3I71e",card:"BookCard_card__Pho3T",card__heading:"BookCard_card__heading__3Y-v8",card__editForm:"BookCard_card__editForm__2I_ln",card__cover:"BookCard_card__cover__3NpEB",card__file:"BookCard_card__file__1MX_r",card__textinfo:"BookCard_card__textinfo__LMAKJ",card__name:"BookCard_card__name__32kH5",card__author:"BookCard_card__author__G_jL0",card__otherDetails:"BookCard_card__otherDetails__CnZC2",card__buttons:"BookCard_card__buttons__1_0ji",card__btn:"BookCard_card__btn__2iEG_"}},18:function(e,t,a){e.exports={bookList:"BookList_bookList__1Uqzt",bookList__empty:"BookList_bookList__empty__13z_L",bookList__heading:"BookList_bookList__heading__3tAKI",table:"BookList_table__lRgHB",table__header:"BookList_table__header__1F1Z3",table__row:"BookList_table__row__19nRT",table__link:"BookList_table__link__1ysTr"}},22:function(e,t,a){e.exports={field:"InputField_field__16vaP",field__label:"InputField_field__label__nrPiZ",field__label_small:"InputField_field__label_small__3icbl",field__input:"InputField_field__input__ykVpw",field__input_wrong:"InputField_field__input_wrong__3dThN",field__error:"InputField_field__error__2Df4j"}},23:function(e,t,a){e.exports={form:"BookEdit_form__qRhJW",form__imgCover:"BookEdit_form__imgCover__1Y__I",wrong:"BookEdit_wrong__3SI5A",error:"BookEdit_error__HCOJL",buttons:"BookEdit_buttons__2sioI",buttons__btn:"BookEdit_buttons__btn__3gNIU"}},27:function(e,t,a){e.exports={filter:"Filter_filter__1q5kM",filter__heading:"Filter_filter__heading__23il_",filter__input:"Filter_filter__input__2WnSj",filter__btn:"Filter_filter__btn__jBfH4"}},36:function(e,t,a){e.exports={form:"Form_form__3wvE7",form__elem:"Form_form__elem__3Rm1S",form__button:"Form_form__button__1HLzX"}},43:function(e,t,a){e.exports={app:"App_app__3BT4Y",app__wrapper:"App_app__wrapper__3xpJY"}},67:function(e,t,a){},68:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a(28),o=a.n(c),i=a(15),l=a(11),s=a(20),u=a(21),d=a.n(u),_="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",b="\u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 \u0434\u0432\u0443\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",j="\u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 \u0447\u0435\u0442\u044b\u0440\u0435\u0445 \u0446\u0438\u0444\u0440",f="\u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0446\u0438\u0444\u0440",p="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u0433\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f",h="\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",O="NAME",m="IMAGE",v="AUTHOR",x="DATE",k="PUBLISHER",g="file",y="text",B="button",N="click",E="\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",w="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",C="\u0410\u0432\u0442\u043e\u0440",L="\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",S="\u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f",F="edit",R="close",I="delete",H="search",M="save",z="BOOK_FORM",D="EDIT_FORM",T=13,A="bookState",U=a(22),V=a.n(U),K=function(e){var t=e.name,a=e.label,c=e.error,o=e.type,i=e.onUrlOfImageSave,u=e.reset,_=Object(r.useState)(""),b=Object(l.a)(_,2),j=b[0],f=b[1];Object(r.useEffect)((function(){u&&f("")}),[u]);var p=d()(V.a.field),h=d()(V.a.field__error),O=d()(V.a.field__label,Object(s.a)({},V.a.field__label_small,j)),m=d()(V.a.field__input,Object(s.a)({},V.a.field__input_wrong,c));return Object(n.jsxs)("div",{className:p,children:[Object(n.jsx)("input",{className:m,id:t,type:o,name:t,value:j,onChange:function(e){if("file"===e.target.type){!function(e){var t,a=e.target,n=a.nextElementSibling,r=null===(t=a.files[0])||void 0===t?void 0:t.name;r&&(n.innerHTML=r)}(e);var t=e.target.files[0];i(t)}else f(e.target.value)},maxLength:t===x?4:null,required:!0}),Object(n.jsx)("label",{className:O,htmlFor:t,children:a}),c&&Object(n.jsx)("span",{className:h,children:c})]})},J=_,q=b,P=j,G=f,W=p,Y=h,Z=function(e){return e.length>1},Q=function(e){return e.length>3},X=function(e){var t=(new Date).toJSON().slice(0,4);return e>="1920"&&e<=t},$=function(e){return e.match(/^\d+$/)},ee=function(e){var t={};return Z(e.name)||(t.name=q),e.name||(t.name=J),Z(e.author)||(t.author=q),e.author||(t.author=J),Z(e.publisher)||(t.publisher=q),e.publisher||(t.publisher=J),X(e.date)||(t.date=W),$(e.date)||(t.date=G),Q(e.date)||(t.date=P),e.date||(t.date=J),(null===e||void 0===e?void 0:e.image)||(t.image=Y),t},te=a(36),ae=a.n(te),ne=function(e){var t=e.onUploadBook,a=Object(r.useState)({}),c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(r.useState)(""),u=Object(l.a)(s,2),d=u[0],_=u[1],b=Object(r.useState)(!1),j=Object(l.a)(b,2),f=j[0],p=j[1];Object(r.useEffect)((function(){p(!1)}),[f]);var h=O,N=m,F=v,R=x,I=k,H=g,M=y,D=B,T=ae.a.form,A=ae.a.form__elem,U=ae.a.form__button,V=[{name:h,label:w,error:null===o||void 0===o?void 0:o.name,type:M},{name:F,label:C,error:null===o||void 0===o?void 0:o.author,type:M},{name:R,label:S,error:null===o||void 0===o?void 0:o.date,type:M},{name:I,label:L,error:null===o||void 0===o?void 0:o.publisher,type:M},{name:N,label:E,error:null===o||void 0===o?void 0:o.image,type:H}],J=function(e){var a=ee(e);i(a),0===Object.keys(a).length&&(t(e),function(){var e=document.forms.BOOK_FORM;e.reset(),e[N].nextElementSibling.innerHTML=E,_(""),p(!0)}())},q=function(e){if(e){var t=new FileReader;t.onload=function(){_(t.result)},t.readAsDataURL(e)}};return Object(n.jsxs)("form",{className:T,name:z,children:[Object(n.jsx)("ul",{children:V.map((function(e){var t=e.name,a=e.label,r=e.error,c=e.type;return Object(n.jsx)("li",{className:A,children:Object(n.jsx)(K,{name:t,label:a,error:r,type:c,onUrlOfImageSave:c===H?q:null,reset:f})},t)}))}),Object(n.jsx)("button",{className:U,type:D,onClick:function(){var e=document.forms.BOOK_FORM,t={name:e[h].value,image:d,author:e[F].value,date:e[R].value,publisher:e[I].value};J(t)},children:"\u0412\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435"})]})},re="ADD_BOOK",ce="DELETE_BOOK",oe="REQUEST_DELETE_BOOK",ie="REQUEST_EDIT_BOOK",le="EDIT_BOOK",se="CHANGE_FILTER",ue="UPLOAD_BOOK",de="FETCH_BOOKS",_e="FETCH_BOOKS_SUCCESS",be="HIDE_ERROR",je="SHOW_ERROR",fe="SHOW_SPINNER",pe="HIDE_SPINNER",he=function(e){return{type:_e,payload:e}},Oe=function(e){return{type:ce,payload:e}},me=function(e,t){return{type:le,payload:{data:e,id:t}}},ve=function(e){return{type:je,payload:e}},xe=function(){return{type:pe}},ke=Object(i.b)(null,{uploadBook:function(e){return{type:ue,payload:e}}})((function(e){var t=e.uploadBook;return Object(n.jsx)(ne,{onUploadBook:t})})),ge=a(32),ye=a(33),Be=a(35),Ne=a(34),Ee=function(e){Object(Be.a)(a,e);var t=Object(Ne.a)(a);function a(){return Object(ge.a)(this,a),t.apply(this,arguments)}return Object(ye.a)(a,[{key:"render",value:function(){switch(this.props.name){case"edit":return Object(n.jsxs)("svg",{viewBox:"0 0 16 16",fill:"currentColor",children:[Object(n.jsx)("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),Object(n.jsx)("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})]});case"delete":return Object(n.jsxs)("svg",{viewBox:"0 0 16 16",fill:"currentColor",children:[Object(n.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(n.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]});case"close":return Object(n.jsxs)("svg",{viewBox:"0 0 16 16",fill:"currentColor",children:[Object(n.jsx)("path",{fillRule:"evenodd",d:"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),Object(n.jsx)("path",{fillRule:"evenodd",d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})]});case"save":return Object(n.jsx)("svg",{viewBox:"0 0 16 16",fill:"currentColor",children:Object(n.jsx)("path",{fillRule:"evenodd",d:"M2 2a2 2 0 0 1 2-2h5.293A1 1 0 0 1 10 .293L13.707 4a1 1 0 0 1 .293.707V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm7.5 1.5v-2l3 3h-2a1 1 0 0 1-1-1zm-5-.5a.5.5 0 0 0 0 1H7a.5.5 0 0 0 0-1H4.5zm0 3a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5h-7z"})});case"search":return Object(n.jsxs)("svg",{viewBox:"0 0 16 16",fill:"currentColor",children:[Object(n.jsx)("path",{fillRule:"evenodd",d:"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"}),Object(n.jsx)("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"})]})}}}]),a}(r.Component),we=a(6),Ce=a(27),Le=a.n(Ce),Se=function(e){var t=e.filterValue,a=e.onChangeFilter,c=Object(r.useState)(t),o=Object(l.a)(c,2),i=o[0],s=o[1],u=Le.a.filter,d=Le.a.filter__heading,_=Le.a.filter__input,b=Le.a.filter__btn,j=y,f=B,p=N,h=Object(we.e)(),O=function(e){e.keyCode!==T&&e.type!==p||(a(i),h.push("/items/?search=".concat(i),"search"))};return Object(n.jsxs)("div",{className:u,children:[Object(n.jsx)("h2",{className:d,children:"Filter"}),Object(n.jsx)("input",{className:_,type:j,value:i,onChange:function(e){s(e.target.value)},onKeyDown:O}),Object(n.jsx)("button",{className:b,type:f,onClick:O,children:Object(n.jsx)(Ee,{name:H})})]})},Fe=Object(i.b)((function(e){return{filter:e.filter}}),{changeFilter:function(e){return{type:se,payload:e}}})((function(e){var t=e.filter,a=e.changeFilter;return Object(n.jsx)(Se,{filterValue:t,onChangeFilter:a})})),Re=a(18),Ie=a.n(Re),He=a(19),Me=function(e){var t=e.books,a=Ie.a.bookList,r=Ie.a.bookList__empty,c=Ie.a.bookList__heading,o=Ie.a.table,i=Ie.a.table__row,l=Ie.a.table__header,s=Ie.a.table__link;return Object(n.jsxs)("div",{className:a,children:[Object(n.jsx)("h2",{className:c,children:"Book List"}),t.length?Object(n.jsxs)("table",{className:o,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:l,children:[Object(n.jsx)("td",{children:"\u041a\u043d\u0438\u0433\u0430"}),Object(n.jsx)("td",{children:"\u0410\u0432\u0442\u043e\u0440"})]})}),Object(n.jsx)("tbody",{children:t.map((function(e){var t=e.name,a=e.author,r=e.id;return Object(n.jsx)("tr",{className:i,children:Object(n.jsx)("td",{children:Object(n.jsxs)(He.b,{to:"/items/".concat(r),className:s,children:[Object(n.jsx)("span",{children:t}),Object(n.jsx)("span",{children:a})]})})},r)}))})]}):Object(n.jsx)("span",{className:r,children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442!"})]})},ze=(a(67),function(){return Object(n.jsx)("div",{className:"lds-dual-ring"})}),De=Object(i.b)((function(e){return{books:e.books,filter:e.filter,spinner:e.spinner}}),{fetchBooks:function(e){return{type:de}}})((function(e){var t=e.books,a=e.filter,c=e.fetchBooks,o=e.spinner;if(Object(r.useEffect)((function(){return c()}),[c]),o)return Object(n.jsx)(ze,{});var i=function(e){return e.toUpperCase().includes(a.toUpperCase())},l=a?t.filter((function(e){return i(e.name)||i(e.author)})):t;return Object(n.jsx)(Me,{books:l})})),Te=a(14),Ae=a.n(Te),Ue=a(23),Ve=a.n(Ue),Ke=function(e){var t=e.book,a=e.onSetIsEdit,c=e.onEditBook,o=Object(r.useState)({}),i=Object(l.a)(o,2),u=i[0],_=i[1],b=Object(r.useState)(""),j=Object(l.a)(b,2),f=j[0],p=j[1],h=t.image,N=t.name,E=t.author,F=t.publisher,I=t.date,H=t.id,z=O,T=m,A=v,U=x,V=k,K=y,J=g,q=B,P=M,G=R,W=Ve.a.form,Y=Ve.a.form__imgCover,Z=Ve.a.buttons,Q=Ve.a.buttons__btn,X=Ve.a.error,$=Ve.a.wrong,te=function(e){var t=ee(e);_(t),0===Object.keys(t).length&&(c(e,H),a(!1))},ae=function(e){e.target.setAttribute("size",e.target.value.length+1)},ne=[{name:N,label:w,id:z,error:null===u||void 0===u?void 0:u.name},{name:E,label:C,id:A,error:null===u||void 0===u?void 0:u.author},{name:F,label:L,id:V,error:null===u||void 0===u?void 0:u.publisher},{name:I,label:S,id:U,error:null===u||void 0===u?void 0:u.date}];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("form",{className:W,name:D,children:[Object(n.jsx)("h3",{children:"\u0420\u0435\u0436\u0438\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"}),Object(n.jsxs)("div",{className:Y,children:[Object(n.jsx)("img",{src:h,alt:N}),Object(n.jsx)("input",{type:J,id:T,onChange:function(e){if(e.target.type===J){var t=e.target.files[0];if(e.target.files[0]){var a=new FileReader;a.onload=function(){e.target.previousSibling.src=a.result,p(a.result)},a.readAsDataURL(t)}}}})]}),ne.map((function(e){var t=e.name,a=e.label,r=e.id,c=e.error,o=d()(Object(s.a)({},$,c));return Object(n.jsxs)("label",{children:[a,Object(n.jsx)("input",{className:o,type:K,id:r,defaultValue:t,size:t.length+1,maxLength:t===I?4:null,onChange:t!==I?ae:null}),c&&Object(n.jsx)("span",{className:X,children:c})]},r)}))]}),Object(n.jsxs)("div",{className:Z,children:[Object(n.jsx)("button",{className:Q,type:q,title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",onClick:function(){var e=document.forms.EDIT_FORM,t={name:e[z].value,image:f||h,author:e[A].value,publisher:e[V].value,date:e[U].value,id:H};te(t)},children:Object(n.jsx)(Ee,{name:P})}),Object(n.jsx)("button",{className:Q,type:q,title:"\u041e\u0442\u043c\u0435\u043d\u0430",onClick:function(){return a(!1)},children:Object(n.jsx)(Ee,{name:G})})]})]})},Je=function(e){var t=e.book,a=e.onDeleteBook,c=e.onEditBook,o=Object(r.useState)(!1),i=Object(l.a)(o,2),s=i[0],u=i[1];Object(r.useEffect)((function(){u(!1)}),[t]);var d=t.image,_=t.name,b=t.author,j=t.publisher,f=t.date,p=t.id,h=L,O=S,m=F,v=I,x=R,k=Ae.a.wrapper,g=Ae.a.card,y=Ae.a.card__heading,B=Ae.a.card__textinfo,N=Ae.a.card__cover,E=Ae.a.card__name,w=Ae.a.card__author,C=Ae.a.card__otherDetails,H=Ae.a.card__publisher,M=Ae.a.card__date,z=Ae.a.card__buttons,D=Ae.a.card__btn,T=[{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",id:m,func:function(){u(!0)},link:"/items/".concat(p)},{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",id:v,func:function(){a(p)},link:"/items"},{title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",id:x,link:"/items"}];return Object(n.jsx)("div",{className:k,children:Object(n.jsxs)("article",{className:g,children:[Object(n.jsx)("h2",{className:y,children:"Book Card"}),s?Object(n.jsx)(Ke,{book:t,onSetIsEdit:u,onEditBook:c}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:N,children:Object(n.jsx)("img",{src:d,alt:_})}),Object(n.jsxs)("div",{className:B,children:[Object(n.jsx)("h4",{className:E,children:_}),Object(n.jsx)("span",{className:w,children:b}),Object(n.jsxs)("div",{className:C,children:[Object(n.jsxs)("p",{children:[h,Object(n.jsx)("span",{className:H,children:j})]}),Object(n.jsxs)("p",{children:[O,Object(n.jsx)("span",{className:M,children:f})]})]})]}),Object(n.jsx)("div",{className:z,children:T.map((function(e){return Object(n.jsx)(He.b,{to:e.link,className:D,title:e.title,onClick:null===e||void 0===e?void 0:e.func,children:Object(n.jsx)(Ee,{name:e.id})},e.id)}))})]})]})})},qe=function(e){Object(Be.a)(a,e);var t=Object(Ne.a)(a);function a(){return Object(ge.a)(this,a),t.apply(this,arguments)}return Object(ye.a)(a,[{key:"shouldComponentUpdate",value:function(e){return"search"!==e.location.state}},{key:"render",value:function(){var e=this.props,t=e.books,a=e.requestDeleteBook,r=e.requestEditBook,c=e.itemId,o=t.find((function(e){return e.id===Number(c)}));return t.length?o?Object(n.jsx)(Je,{book:o,onDeleteBook:a,onEditBook:r}):Object(n.jsx)("span",{style:{margin:"auto"},children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043d\u0438\u0433\u0443!"}):null}}]),a}(r.Component),Pe={requestDeleteBook:function(e){return{type:oe,payload:e}},requestEditBook:function(e,t){return{type:ie,payload:{data:e,id:t}}}},Ge=Object(i.b)((function(e){return{books:e.books}}),Pe)(qe),We=a(43),Ye=a.n(We),Ze=(a(68),function(e){var t=e.text;return Object(n.jsx)("div",{className:"error-indicator",children:Object(n.jsx)("span",{children:t})})}),Qe=function(){var e=Object(i.c)((function(e){return e.error}));return Object(n.jsx)(He.a,{children:Object(n.jsxs)("div",{className:Ye.a.app,children:[e&&Object(n.jsx)(Ze,{text:e}),Object(n.jsx)(ke,{}),Object(n.jsx)(Fe,{}),Object(n.jsxs)("div",{className:Ye.a.app__wrapper,children:[Object(n.jsx)(De,{}),Object(n.jsx)(we.a,{path:"/items/:id",children:function(e){var t=e.match,a=e.location;return Object(n.jsx)(Ge,{itemId:(null===t||void 0===t?void 0:t.params.id)||null,location:a})}})]})]})})},Xe=a(17),$e=a(56),et=a(37),tt=a(55),at=Object(Xe.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=0===e.length?1:e[e.length-1].id+1;switch(t.type){case _e:return t.payload;case re:return[].concat(Object(tt.a)(e),[Object(et.a)(Object(et.a)({},t.payload),{},{id:a++})]);case ce:return e.filter((function(e){return e.id!==t.payload}));case le:return e.map((function(e){return e.id===t.payload.id?Object(et.a)({},t.payload.data):e}));default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return t.payload;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return t.payload;case be:return null;default:return e}},spinner:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return!0;case pe:return!1;default:return e}}}),nt=a(9),rt=a.n(nt),ct=a(7),ot=a(54),it=a.n(ot).a.create({baseURL:"http://localhost:3200/item",headers:{"Content-Type":"application/json;charset=utf-8"},responseType:"json"}),lt=function(){return it.get("/")},st=function(e,t){return it.put("/".concat(t),e)},ut=rt.a.mark(pt),dt=rt.a.mark(ht),_t=rt.a.mark(Ot),bt=rt.a.mark(mt),jt=rt.a.mark(vt),ft=rt.a.mark(xt);function pt(e,t){return rt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(ct.d)(ve("".concat(e," ").concat(t)));case 2:return a.next=4,Object(ct.c)(4e3);case 4:return a.next=6,Object(ct.d)({type:be});case 6:case"end":return a.stop()}}),ut)}function ht(){var e,t;return rt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ct.d)({type:fe});case 3:return a.next=5,Object(ct.b)(lt);case 5:return e=a.sent,t=e.data,a.next=9,Object(ct.d)(he(t));case 9:return a.next=11,Object(ct.d)(xe());case 11:a.next=19;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(ct.d)(xe());case 17:return a.next=19,pt("\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u043b\u0438\u0441\u044c!",a.t0);case 19:case"end":return a.stop()}}),dt,null,[[0,13]])}function Ot(e){var t;return rt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,n=t,it.post("/",n);case 4:return a.next=6,Object(ct.d)({type:re,payload:t});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(1),a.next=12,pt("\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0431\u044b\u043b\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440!",a.t0);case 12:case"end":return a.stop()}var n}),_t,null,[[1,8]])}function mt(e){var t;return rt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,n=t,it.delete("/".concat(n));case 4:return a.next=6,Object(ct.d)(Oe(t));case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(1),a.next=12,pt("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440!",a.t0);case 12:case"end":return a.stop()}var n}),bt,null,[[1,8]])}function vt(e){var t,a,n;return rt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,a=t.id,n=t.data,r.next=5,st(n,a);case 5:return r.next=7,Object(ct.d)(me(n,a));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,pt("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440!",r.t0);case 13:case"end":return r.stop()}}),jt,null,[[1,9]])}function xt(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.a)([Object(ct.e)(de,ht),Object(ct.e)(ue,Ot),Object(ct.e)(oe,mt),Object(ct.e)(ie,vt)]);case 2:case"end":return e.stop()}}),ft)}var kt=rt.a.mark(gt);function gt(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt();case 2:case"end":return e.stop()}}),kt)}var yt=JSON.parse(localStorage.getItem(A))||{books:[],filter:"",error:null,spinner:!1},Bt=Object($e.a)(),Nt=Object(Xe.e)(at,yt,Object(Xe.a)(Bt));Bt.run(gt);var Et=Nt;a(87),a(88);Et.subscribe((function(){localStorage.setItem(A,JSON.stringify(Et.getState()))})),o.a.render(Object(n.jsx)(i.a,{store:Et,children:Object(n.jsx)(Qe,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.b7e0f2ae.chunk.js.map