{"version":3,"sources":["components/BookCard/BookCard.module.scss","components/BookList/BookList.module.scss","components/Form/InputField/InputField.module.scss","components/BookCard/BookEdit/BookEdit.module.scss","components/Filter/Filter.module.scss","components/Form/Form.module.scss","components/App/App.module.scss","constants/index.js","components/Form/InputField/InputField.jsx","utils/validate.js","components/Form/Form.jsx","models/actions/actionTypes.js","models/actions/index.js","components/Form/FormContainer.jsx","utils/SpriteSvg.jsx","components/Filter/Filter.jsx","components/Filter/FilterContainer.jsx","components/BookList/BookList.jsx","components/Spinner/Spinner.jsx","components/BookList/BookListContainer.jsx","components/BookCard/BookEdit/BookEdit.jsx","components/BookCard/BookCard.jsx","components/BookCard/BookCardContainer.jsx","components/ErrorIndicator/ErrorIndicator.jsx","components/App/App.jsx","models/reducers/index.js","models/reducers/books.js","models/reducers/filter.js","models/reducers/error.js","models/reducers/spinner.js","api/axios.js","api/request.js","sagas/books.js","sagas/index.js","store/index.js","index.js"],"names":["module","exports","ERROR_TEXTS","NAMES","TYPES","LABELS","SVG_NAMES","BOOK_FORM","EDIT_FORM","keyCode","locStorKey","InputField","name","label","error","type","onUrlOfImageSave","reset","useState","value","setValue","useEffect","classField","classNames","styles","field","classError","field__error","classLabel","field__label","field__label_small","classInput","field__input","field__input_wrong","className","id","onChange","evt","target","input","nextElementSibling","fileName","files","innerHTML","changeNameOfLabel","file","maxLength","required","htmlFor","REQUIRED","MIN_LENGTH","MIN_LENGTH_DATE","UNCORRECT_DATE","UNREAL_DATE","DOWNLOAD_IMAGE","validator","text","length","date","topDate","Date","toJSON","slice","number","match","validate","fields","errors","author","publisher","image","Form","onUploadBook","errorTexts","setErrorTexts","urlImage","setUrlImage","setReset","NAME","IMAGE","AUTHOR","DATE","PUBLISHER","FILE","TEXT","BUTTON","form","form__elem","form__button","inputsData","validateData","data","Object","keys","document","forms","handleFormReset","handleUrlOfImageSave","reader","FileReader","onload","result","readAsDataURL","map","it","onClick","newData","ADD_BOOK","DELETE_BOOK","REQUEST_DELETE_BOOK","REQUEST_EDIT_BOOK","EDIT_BOOK","CHANGE_FILTER","UPLOAD_BOOK","FETCH_BOOKS","FETCH_BOOKS_SUCCESS","HIDE_ERROR","SHOW_ERROR","SHOW_SPINNER","HIDE_SPINNER","fetchBooksSuccess","payload","deleteBook","editBook","showError","hideSpinner","connect","uploadBook","book","SpriteSvg","this","props","viewBox","fill","d","fillRule","Component","Filter","filterValue","onChangeFilter","filter","filter__heading","filter__input","filter__btn","CLICK","history","useHistory","handleFilterChange","push","onKeyDown","changeFilter","Booklist","books","bookList","bookList__empty","bookList__heading","table","table__row","table__header","table__link","to","Spinner","spinner","fetchBooks","isInclude","str","toUpperCase","includes","visibleBooks","BookList","BookEdit","onSetIsEdit","onEditBook","SAVE","CLOSE","form__imgCover","buttons","buttons__btn","wrong","handleInputSizeChange","setAttribute","dataBook","src","alt","previousSibling","classInputWrong","defaultValue","size","title","BookCard","onDeleteBook","isEdit","setIsEdit","EDIT","DELETE","wrapper","card","card__heading","card__textinfo","card__cover","card__name","card__author","card__otherDetails","card__publisher","card__date","card__buttons","card__btn","func","link","BookCardContainer","nextProps","location","state","requestDeleteBook","requestEditBook","itemId","find","Number","style","margin","actions","ErrorIndicator","App","useSelector","app","app__wrapper","path","children","params","combineReducers","action","axios","create","baseURL","headers","responseType","fetchGetBooks","get","fetchPutBook","put","showAndHideError","workerFetchBooks","workerUploadBook","workerDeleteBook","workerEditBook","delay","call","post","delete","all","takeEvery","initialState","JSON","parse","localStorage","getItem","sagaMiddleware","createSagaMiddleware","store","createStore","reducer","applyMiddleware","run","rootSaga","subscribe","setItem","stringify","getState","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b7e0f2ae.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"BookCard_wrapper__3I71e\",\"card\":\"BookCard_card__Pho3T\",\"card__heading\":\"BookCard_card__heading__3Y-v8\",\"card__editForm\":\"BookCard_card__editForm__2I_ln\",\"card__cover\":\"BookCard_card__cover__3NpEB\",\"card__file\":\"BookCard_card__file__1MX_r\",\"card__textinfo\":\"BookCard_card__textinfo__LMAKJ\",\"card__name\":\"BookCard_card__name__32kH5\",\"card__author\":\"BookCard_card__author__G_jL0\",\"card__otherDetails\":\"BookCard_card__otherDetails__CnZC2\",\"card__buttons\":\"BookCard_card__buttons__1_0ji\",\"card__btn\":\"BookCard_card__btn__2iEG_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bookList\":\"BookList_bookList__1Uqzt\",\"bookList__empty\":\"BookList_bookList__empty__13z_L\",\"bookList__heading\":\"BookList_bookList__heading__3tAKI\",\"table\":\"BookList_table__lRgHB\",\"table__header\":\"BookList_table__header__1F1Z3\",\"table__row\":\"BookList_table__row__19nRT\",\"table__link\":\"BookList_table__link__1ysTr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"field\":\"InputField_field__16vaP\",\"field__label\":\"InputField_field__label__nrPiZ\",\"field__label_small\":\"InputField_field__label_small__3icbl\",\"field__input\":\"InputField_field__input__ykVpw\",\"field__input_wrong\":\"InputField_field__input_wrong__3dThN\",\"field__error\":\"InputField_field__error__2Df4j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"BookEdit_form__qRhJW\",\"form__imgCover\":\"BookEdit_form__imgCover__1Y__I\",\"wrong\":\"BookEdit_wrong__3SI5A\",\"error\":\"BookEdit_error__HCOJL\",\"buttons\":\"BookEdit_buttons__2sioI\",\"buttons__btn\":\"BookEdit_buttons__btn__3gNIU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__1q5kM\",\"filter__heading\":\"Filter_filter__heading__23il_\",\"filter__input\":\"Filter_filter__input__2WnSj\",\"filter__btn\":\"Filter_filter__btn__jBfH4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__3wvE7\",\"form__elem\":\"Form_form__elem__3Rm1S\",\"form__button\":\"Form_form__button__1HLzX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3BT4Y\",\"app__wrapper\":\"App_app__wrapper__3xpJY\"};","export const ERROR_TEXTS = {\n\tREQUIRED: 'Обязательно для заполнения',\n\tMIN_LENGTH: 'Поле должно содержать не менее двух символов',\n\tMIN_LENGTH_DATE: 'Поле должно состоять из четырех цифр',\n\tUNCORRECT_DATE: 'Поле должно состоять только из цифр',\n\tUNREAL_DATE: 'Введите актуальный год издания',\n\tDOWNLOAD_IMAGE: 'Загрузите изображение',\n};\n\nexport const NAMES = {\n\tNAME: 'NAME',\n\tIMAGE: 'IMAGE',\n\tAUTHOR: 'AUTHOR',\n\tDATE: 'DATE',\n\tPUBLISHER: 'PUBLISHER',\n};\n\nexport const TYPES = {\n\tFILE: 'file',\n\tTEXT: 'text',\n\tDATE: 'date',\n\tBUTTON: 'button',\n\tCLICK: 'click',\n};\n\nexport const LABELS = {\n\tIMAGE: 'Загрузите изображение',\n\tNAME: 'Название',\n\tAUTHOR: 'Автор',\n\tPUBLISHER: 'Издательство',\n\tDATE: 'Год издания',\n};\n\nexport const SVG_NAMES = {\n\tEDIT: 'edit',\n\tCLOSE: 'close',\n\tDELETE: 'delete',\n\tSEARCH: 'search',\n\tSAVE: 'save',\n};\n\nexport const BOOK_FORM = 'BOOK_FORM';\nexport const EDIT_FORM = 'EDIT_FORM';\n\nexport const keyCode = {\n\tENTER: 13,\n};\n\nexport const locStorKey = 'bookState';\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { NAMES } from '@constants';\nimport styles from './InputField.module.scss';\n\nconst InputField = ({ name, label, error, type, onUrlOfImageSave, reset }) => {\n\tconst [value, setValue] = useState('');\n\n\tuseEffect(() => {\n\t\treset && setValue('');\n\t}, [reset]);\n\n\tconst classField = classNames(styles.field);\n\tconst classError = classNames(styles.field__error);\n\tconst classLabel = classNames(styles.field__label, {\n\t\t[styles.field__label_small]: value,\n\t});\n\tconst classInput = classNames(styles.field__input, {\n\t\t[styles.field__input_wrong]: error,\n\t});\n\n\tconst changeNameOfLabel = (evt) => {\n\t\tconst input = evt.target;\n\t\tconst label = input.nextElementSibling;\n\t\tconst fileName = input.files[0]?.name;\n\t\tif (fileName) {\n\t\t\tlabel.innerHTML = fileName;\n\t\t}\n\t};\n\n\tconst handleInputChange = (evt) => {\n\t\tif (evt.target.type === 'file') {\n\t\t\tchangeNameOfLabel(evt);\n\t\t\tconst file = evt.target.files[0];\n\t\t\tonUrlOfImageSave(file);\n\t\t} else {\n\t\t\tsetValue(evt.target.value);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classField}>\n\t\t\t<input\n\t\t\t\tclassName={classInput}\n\t\t\t\tid={name}\n\t\t\t\ttype={type}\n\t\t\t\tname={name}\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={handleInputChange}\n\t\t\t\tmaxLength={name === NAMES.DATE ? 4 : null}\n\t\t\t\trequired\n\t\t\t/>\n\t\t\t<label className={classLabel} htmlFor={name}>\n\t\t\t\t{label}\n\t\t\t</label>\n\t\t\t{error && <span className={classError}>{error}</span>}\n\t\t</div>\n\t);\n};\n\nInputField.propTypes = {\n\tname: PropTypes.string,\n\ttype: PropTypes.string,\n\tlabel: PropTypes.string,\n\terror: PropTypes.string,\n\treset: PropTypes.bool,\n\tonUrlOfImageSave: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.instanceOf(null),\n\t]),\n};\n\nexport default InputField;\n","import { ERROR_TEXTS } from '@constants';\n\nconst {\n\tREQUIRED,\n\tMIN_LENGTH,\n\tMIN_LENGTH_DATE,\n\tUNCORRECT_DATE,\n\tUNREAL_DATE,\n\tDOWNLOAD_IMAGE,\n} = ERROR_TEXTS;\n\nconst validator = {\n\tisMinLength: (text) => text.length > 1,\n\tisMinLengthDate: (date) => date.length > 3,\n\tisDateBoundaries: (date) => {\n\t\tconst bottomDate = '1920';\n\t\tconst topDate = new Date().toJSON().slice(0, 4);\n\t\treturn date >= bottomDate && date <= topDate;\n\t},\n\tisNumber: (number) => number.match(/^\\d+$/),\n};\n\nexport const validate = (fields) => {\n\tconst errors = {};\n\tif (!validator.isMinLength(fields.name)) {\n\t\terrors.name = MIN_LENGTH;\n\t}\n\n\tif (!fields.name) {\n\t\terrors.name = REQUIRED;\n\t}\n\n\tif (!validator.isMinLength(fields.author)) {\n\t\terrors.author = MIN_LENGTH;\n\t}\n\n\tif (!fields.author) {\n\t\terrors.author = REQUIRED;\n\t}\n\n\tif (!validator.isMinLength(fields.publisher)) {\n\t\terrors.publisher = MIN_LENGTH;\n\t}\n\n\tif (!fields.publisher) {\n\t\terrors.publisher = REQUIRED;\n\t}\n\n\tif (!validator.isDateBoundaries(fields.date)) {\n\t\terrors.date = UNREAL_DATE;\n\t}\n\n\tif (!validator.isNumber(fields.date)) {\n\t\terrors.date = UNCORRECT_DATE;\n\t}\n\n\tif (!validator.isMinLengthDate(fields.date)) {\n\t\terrors.date = MIN_LENGTH_DATE;\n\t}\n\n\tif (!fields.date) {\n\t\terrors.date = REQUIRED;\n\t}\n\n\tif (!fields?.image) {\n\t\terrors.image = DOWNLOAD_IMAGE;\n\t}\n\n\treturn errors;\n};\n","import React, { useState, useEffect } from 'react';\nimport InputField from './InputField';\nimport { validate } from '@utils/validate';\nimport { NAMES, TYPES, LABELS, BOOK_FORM } from '@constants';\nimport PropTypes from 'prop-types';\nimport styles from './Form.module.scss';\n\nconst Form = ({ onUploadBook }) => {\n\tconst [errorTexts, setErrorTexts] = useState({});\n\tconst [urlImage, setUrlImage] = useState('');\n\tconst [reset, setReset] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetReset(false);\n\t}, [reset]);\n\n\tconst { NAME, IMAGE, AUTHOR, DATE, PUBLISHER } = NAMES;\n\tconst { FILE, TEXT, BUTTON } = TYPES;\n\tconst { form, form__elem, form__button } = styles;\n\n\tconst inputsData = [\n\t\t{ name: NAME, label: LABELS.NAME, error: errorTexts?.name, type: TEXT },\n\t\t{\n\t\t\tname: AUTHOR,\n\t\t\tlabel: LABELS.AUTHOR,\n\t\t\terror: errorTexts?.author,\n\t\t\ttype: TEXT,\n\t\t},\n\t\t{\n\t\t\tname: DATE,\n\t\t\tlabel: LABELS.DATE,\n\t\t\terror: errorTexts?.date,\n\t\t\ttype: TEXT,\n\t\t},\n\n\t\t{\n\t\t\tname: PUBLISHER,\n\t\t\tlabel: LABELS.PUBLISHER,\n\t\t\terror: errorTexts?.publisher,\n\t\t\ttype: TEXT,\n\t\t},\n\t\t{\n\t\t\tname: IMAGE,\n\t\t\tlabel: LABELS.IMAGE,\n\t\t\terror: errorTexts?.image,\n\t\t\ttype: FILE,\n\t\t},\n\t];\n\n\tconst handleFormReset = () => {\n\t\tconst form = document.forms[BOOK_FORM];\n\t\tform.reset();\n\t\tconst imageLabel = form[IMAGE].nextElementSibling;\n\t\timageLabel.innerHTML = LABELS.IMAGE;\n\t\tsetUrlImage('');\n\t\tsetReset(true);\n\t};\n\n\tconst validateData = (data) => {\n\t\tconst errors = validate(data);\n\t\tsetErrorTexts(errors);\n\n\t\tif (Object.keys(errors).length === 0) {\n\t\t\tonUploadBook(data);\n\t\t\thandleFormReset();\n\t\t}\n\t};\n\n\tconst handleBtnClick = () => {\n\t\tconst form = document.forms[BOOK_FORM];\n\n\t\tconst newData = {\n\t\t\tname: form[NAME].value,\n\t\t\timage: urlImage,\n\t\t\tauthor: form[AUTHOR].value,\n\t\t\tdate: form[DATE].value,\n\t\t\tpublisher: form[PUBLISHER].value,\n\t\t};\n\n\t\tvalidateData(newData);\n\t};\n\n\tconst handleUrlOfImageSave = (file) => {\n\t\tif (file) {\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = () => {\n\t\t\t\tsetUrlImage(reader.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(file);\n\t\t}\n\t};\n\n\treturn (\n\t\t<form className={form} name={BOOK_FORM}>\n\t\t\t<ul>\n\t\t\t\t{inputsData.map((it) => {\n\t\t\t\t\tconst { name, label, error, type } = it;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li className={form__elem} key={name}>\n\t\t\t\t\t\t\t<InputField\n\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\t\t\tonUrlOfImageSave={type === FILE ? handleUrlOfImageSave : null}\n\t\t\t\t\t\t\t\treset={reset}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t\t<button className={form__button} type={BUTTON} onClick={handleBtnClick}>\n\t\t\t\tВвести данные\n\t\t\t</button>\n\t\t</form>\n\t);\n};\n\nForm.propTypes = { onUploadBook: PropTypes.func };\n\nexport default Form;\n","export const ADD_BOOK = 'ADD_BOOK';\nexport const DELETE_BOOK = 'DELETE_BOOK';\nexport const REQUEST_DELETE_BOOK = 'REQUEST_DELETE_BOOK';\nexport const REQUEST_EDIT_BOOK = 'REQUEST_EDIT_BOOK';\nexport const EDIT_BOOK = 'EDIT_BOOK';\nexport const CHANGE_FILTER = 'CHANGE_FILTER';\nexport const UPLOAD_BOOK = 'UPLOAD_BOOK';\nexport const FETCH_BOOKS = 'FETCH_BOOKS';\nexport const FETCH_BOOKS_SUCCESS = 'FETCH_BOOKS_SUCCESS';\nexport const HIDE_ERROR = 'HIDE_ERROR';\nexport const SHOW_ERROR = 'SHOW_ERROR';\nexport const SHOW_SPINNER = 'SHOW_SPINNER';\nexport const HIDE_SPINNER = 'HIDE_SPINNER';\n","import {\n\tADD_BOOK,\n\tDELETE_BOOK,\n\tREQUEST_DELETE_BOOK,\n\tREQUEST_EDIT_BOOK,\n\tEDIT_BOOK,\n\tCHANGE_FILTER,\n\tFETCH_BOOKS_SUCCESS,\n\tFETCH_BOOKS,\n\tUPLOAD_BOOK,\n\tSHOW_ERROR,\n\tHIDE_ERROR,\n\tHIDE_SPINNER,\n\tSHOW_SPINNER,\n} from './actionTypes';\n\nexport const fetchBooks = (data) => {\n\treturn {\n\t\ttype: FETCH_BOOKS,\n\t};\n};\n\nexport const fetchBooksSuccess = (data) => {\n\treturn {\n\t\ttype: FETCH_BOOKS_SUCCESS,\n\t\tpayload: data,\n\t};\n};\n\nexport const addBook = (data) => {\n\treturn {\n\t\ttype: ADD_BOOK,\n\t\tpayload: data,\n\t};\n};\n\nexport const deleteBook = (id) => {\n\treturn {\n\t\ttype: DELETE_BOOK,\n\t\tpayload: id,\n\t};\n};\n\nexport const requestDeleteBook = (id) => {\n\treturn {\n\t\ttype: REQUEST_DELETE_BOOK,\n\t\tpayload: id,\n\t};\n};\n\nexport const requestEditBook = (data, id) => {\n\treturn {\n\t\ttype: REQUEST_EDIT_BOOK,\n\t\tpayload: { data, id },\n\t};\n};\n\nexport const editBook = (data, id) => {\n\treturn {\n\t\ttype: EDIT_BOOK,\n\t\tpayload: { data, id },\n\t};\n};\n\nexport const changeFilter = (value) => {\n\treturn {\n\t\ttype: CHANGE_FILTER,\n\t\tpayload: value,\n\t};\n};\n\nexport const uploadBook = (book) => ({\n\ttype: UPLOAD_BOOK,\n\tpayload: book,\n});\n\nexport const hideError = () => ({\n\ttype: HIDE_ERROR,\n});\n\nexport const showError = (text) => ({ type: SHOW_ERROR, payload: text });\n\nexport const hideSpinner = () => ({\n\ttype: HIDE_SPINNER,\n});\n\nexport const showSpinner = () => ({\n\ttype: SHOW_SPINNER,\n});\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Form from './Form';\nimport { addBook, uploadBook } from '@models/actions';\nimport PropTypes from 'prop-types';\n\nconst FormContainer = ({ uploadBook }) => {\n\treturn <Form onUploadBook={uploadBook} />;\n};\n\nFormContainer.propTypes = { uploadBook: PropTypes.func };\n\nexport default connect(null, { uploadBook })(FormContainer);\n","import React, { Component } from 'react';\n\nexport default class SpriteSvg extends Component {\n\trender() {\n\t\tswitch (this.props.name) {\n\t\t\tcase 'edit':\n\t\t\t\treturn (\n\t\t\t\t\t<svg viewBox=\"0 0 16 16\" fill=\"currentColor\">\n\t\t\t\t\t\t<path d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\" />\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\n\t\t\tcase 'delete':\n\t\t\t\treturn (\n\t\t\t\t\t<svg viewBox=\"0 0 16 16\" fill=\"currentColor\">\n\t\t\t\t\t\t<path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\" />\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\n\t\t\tcase 'close':\n\t\t\t\treturn (\n\t\t\t\t\t<svg viewBox=\"0 0 16 16\" fill=\"currentColor\">\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\n\t\t\tcase 'save':\n\t\t\t\treturn (\n\t\t\t\t\t<svg viewBox=\"0 0 16 16\" fill=\"currentColor\">\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M2 2a2 2 0 0 1 2-2h5.293A1 1 0 0 1 10 .293L13.707 4a1 1 0 0 1 .293.707V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm7.5 1.5v-2l3 3h-2a1 1 0 0 1-1-1zm-5-.5a.5.5 0 0 0 0 1H7a.5.5 0 0 0 0-1H4.5zm0 3a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5h-7z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\n\t\t\tcase 'search':\n\t\t\t\treturn (\n\t\t\t\t\t<svg viewBox=\"0 0 16 16\" fill=\"currentColor\">\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport SpriteSvg from '@utils/SpriteSvg';\nimport { useHistory } from 'react-router-dom';\nimport styles from './Filter.module.scss';\nimport { keyCode, TYPES, SVG_NAMES } from '@constants';\n\nconst Filter = ({ filterValue, onChangeFilter }) => {\n\tconst [value, setValue] = useState(filterValue);\n\tconst { filter, filter__heading, filter__input, filter__btn } = styles;\n\tconst { TEXT, BUTTON, CLICK } = TYPES;\n\tconst history = useHistory();\n\n\tconst handleInputChange = (evt) => {\n\t\tsetValue(evt.target.value);\n\t};\n\n\tconst handleFilterChange = (evt) => {\n\t\tif (evt.keyCode === keyCode.ENTER || evt.type === CLICK) {\n\t\t\tonChangeFilter(value);\n\t\t\thistory.push(`/items/?search=${value}`, 'search');\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={filter}>\n\t\t\t<h2 className={filter__heading}>Filter</h2>\n\t\t\t<input\n\t\t\t\tclassName={filter__input}\n\t\t\t\ttype={TEXT}\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={handleInputChange}\n\t\t\t\tonKeyDown={handleFilterChange}\n\t\t\t/>\n\t\t\t<button\n\t\t\t\tclassName={filter__btn}\n\t\t\t\ttype={BUTTON}\n\t\t\t\tonClick={handleFilterChange}\n\t\t\t>\n\t\t\t\t<SpriteSvg name={SVG_NAMES.SEARCH} />\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nFilter.propTypes = {\n\tfilterValue: PropTypes.string,\n\tonChangeFilter: PropTypes.func,\n};\n\nexport default Filter;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Filter from './Filter';\nimport { changeFilter } from '@models/actions';\n\nconst FilterContainer = ({ filter, changeFilter }) => {\n\treturn <Filter filterValue={filter} onChangeFilter={changeFilter} />;\n};\n\nFilterContainer.propTypes = {\n\tfilter: PropTypes.string,\n\tchangeFilter: PropTypes.func,\n};\n\nconst mapStateToProps = ({ filter }) => ({\n\tfilter,\n});\n\nexport default connect(mapStateToProps, { changeFilter })(FilterContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './BookList.module.scss';\nimport { Link } from 'react-router-dom';\n\nconst Booklist = ({ books }) => {\n\tconst {\n\t\tbookList,\n\t\tbookList__empty,\n\t\tbookList__heading,\n\t\ttable,\n\t\ttable__row,\n\t\ttable__header,\n\t\ttable__link,\n\t} = styles;\n\n\tconst renderItem = ({ name, author, id }) => {\n\t\treturn (\n\t\t\t<tr className={table__row} key={id}>\n\t\t\t\t<td>\n\t\t\t\t\t<Link to={`/items/${id}`} className={table__link}>\n\t\t\t\t\t\t<span>{name}</span>\n\t\t\t\t\t\t<span>{author}</span>\n\t\t\t\t\t</Link>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className={bookList}>\n\t\t\t<h2 className={bookList__heading}>Book List</h2>\n\t\t\t{!books.length ? (\n\t\t\t\t<span className={bookList__empty}>Список пуст!</span>\n\t\t\t) : (\n\t\t\t\t<table className={table}>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr className={table__header}>\n\t\t\t\t\t\t\t<td>Книга</td>\n\t\t\t\t\t\t\t<td>Автор</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>{books.map(renderItem)}</tbody>\n\t\t\t\t</table>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nBooklist.propTypes = { books: PropTypes.array };\n\nexport default Booklist;\n","import React from 'react';\nimport './Spinner.scss';\n\nconst Spinner = () => {\n\treturn <div className=\"lds-dual-ring\"></div>;\n};\n\nexport default Spinner;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchBooks } from '@models/actions';\nimport BookList from './BookList';\nimport Spinner from '@components/Spinner';\nimport PropTypes from 'prop-types';\n\nconst BookListContainer = ({ books, filter, fetchBooks, spinner }) => {\n\tuseEffect(() => fetchBooks(), [fetchBooks]);\n\n\tif (spinner) {\n\t\treturn <Spinner />;\n\t}\n\n\tconst isInclude = (str) => str.toUpperCase().includes(filter.toUpperCase());\n\n\tconst visibleBooks = filter\n\t\t? books.filter((it) => isInclude(it.name) || isInclude(it.author))\n\t\t: books;\n\n\treturn <BookList books={visibleBooks} />;\n};\n\nBookListContainer.propTypes = {\n\tbooks: PropTypes.array,\n\tfilter: PropTypes.string,\n\tspinner: PropTypes.bool,\n\tfetchBooks: PropTypes.func,\n};\n\nconst mapStateToProps = ({ books, filter, spinner }) => ({\n\tbooks,\n\tfilter,\n\tspinner,\n});\n\nexport default connect(mapStateToProps, { fetchBooks })(BookListContainer);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { NAMES, LABELS, EDIT_FORM, TYPES, SVG_NAMES } from '@constants';\nimport SpriteSvg from '@utils/SpriteSvg';\nimport { validate } from '@utils/validate';\nimport styles from './BookEdit.module.scss';\nimport classNames from 'classnames';\n\nconst BookEdit = ({ book, onSetIsEdit, onEditBook }) => {\n\tconst [errorTexts, setErrorTexts] = useState({});\n\tconst [urlImage, setUrlImage] = useState('');\n\n\tconst { image, name, author, publisher, date, id } = book;\n\tconst { NAME, IMAGE, AUTHOR, DATE, PUBLISHER } = NAMES;\n\tconst { TEXT, FILE, BUTTON } = TYPES;\n\tconst { SAVE, CLOSE } = SVG_NAMES;\n\tconst {\n\t\tform,\n\t\tform__imgCover,\n\t\tbuttons,\n\t\tbuttons__btn,\n\t\terror: classError,\n\t\twrong,\n\t} = styles;\n\n\tconst handleBtnSave = () => {\n\t\tconst form = document.forms[EDIT_FORM];\n\t\tconst newData = {\n\t\t\tname: form[NAME].value,\n\t\t\timage: urlImage || image,\n\t\t\tauthor: form[AUTHOR].value,\n\t\t\tpublisher: form[PUBLISHER].value,\n\t\t\tdate: form[DATE].value,\n\t\t\tid,\n\t\t};\n\n\t\tvalidateData(newData);\n\t};\n\n\tconst validateData = (data) => {\n\t\tconst errors = validate(data);\n\t\tsetErrorTexts(errors);\n\n\t\tif (Object.keys(errors).length === 0) {\n\t\t\tonEditBook(data, id);\n\t\t\tonSetIsEdit(false);\n\t\t}\n\t};\n\n\tconst handleInputFileChange = (evt) => {\n\t\tif (evt.target.type === FILE) {\n\t\t\tconst file = evt.target.files[0];\n\t\t\tif (evt.target.files[0]) {\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\treader.onload = () => {\n\t\t\t\t\tevt.target.previousSibling.src = reader.result;\n\t\t\t\t\tsetUrlImage(reader.result);\n\t\t\t\t};\n\t\t\t\treader.readAsDataURL(file);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleInputSizeChange = (evt) => {\n\t\tevt.target.setAttribute('size', evt.target.value.length + 1);\n\t};\n\n\tconst handleBtnCansel = () => onSetIsEdit(false);\n\n\tconst dataBook = [\n\t\t{ name, label: LABELS.NAME, id: NAME, error: errorTexts?.name },\n\t\t{\n\t\t\tname: author,\n\t\t\tlabel: LABELS.AUTHOR,\n\t\t\tid: AUTHOR,\n\t\t\terror: errorTexts?.author,\n\t\t},\n\t\t{\n\t\t\tname: publisher,\n\t\t\tlabel: LABELS.PUBLISHER,\n\t\t\tid: PUBLISHER,\n\t\t\terror: errorTexts?.publisher,\n\t\t},\n\t\t{ name: date, label: LABELS.DATE, id: DATE, error: errorTexts?.date },\n\t];\n\n\treturn (\n\t\t<>\n\t\t\t<form className={form} name={EDIT_FORM}>\n\t\t\t\t<h3>Режим редактирования</h3>\n\t\t\t\t<div className={form__imgCover}>\n\t\t\t\t\t<img src={image} alt={name} />\n\t\t\t\t\t<input type={FILE} id={IMAGE} onChange={handleInputFileChange} />\n\t\t\t\t</div>\n\t\t\t\t{dataBook.map(({ name, label, id, error }) => {\n\t\t\t\t\tconst classInputWrong = classNames({ [wrong]: error });\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<label key={id}>\n\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName={classInputWrong}\n\t\t\t\t\t\t\t\ttype={TEXT}\n\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\tdefaultValue={name}\n\t\t\t\t\t\t\t\tsize={name.length + 1}\n\t\t\t\t\t\t\t\tmaxLength={name === date ? 4 : null}\n\t\t\t\t\t\t\t\tonChange={name !== date ? handleInputSizeChange : null}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{error && <span className={classError}>{error}</span>}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</form>\n\t\t\t<div className={buttons}>\n\t\t\t\t<button\n\t\t\t\t\tclassName={buttons__btn}\n\t\t\t\t\ttype={BUTTON}\n\t\t\t\t\ttitle=\"Сохранить изменения\"\n\t\t\t\t\tonClick={handleBtnSave}\n\t\t\t\t>\n\t\t\t\t\t<SpriteSvg name={SAVE} />\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclassName={buttons__btn}\n\t\t\t\t\ttype={BUTTON}\n\t\t\t\t\ttitle=\"Отмена\"\n\t\t\t\t\tonClick={handleBtnCansel}\n\t\t\t\t>\n\t\t\t\t\t<SpriteSvg name={CLOSE} />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nBookEdit.propTypes = {\n\tbook: PropTypes.object,\n\tonSetIsEdit: PropTypes.func,\n};\n\nexport default BookEdit;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport styles from './BookCard.module.scss';\nimport SpriteSvg from '@utils/SpriteSvg';\nimport { LABELS, SVG_NAMES } from '@constants';\nimport BookEdit from '@components/BookCard/BookEdit';\n\nconst BookCard = ({ book, onDeleteBook, onEditBook }) => {\n\tconst [isEdit, setIsEdit] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetIsEdit(false);\n\t}, [book]);\n\n\tconst { image, name, author, publisher, date, id } = book;\n\tconst { PUBLISHER, DATE } = LABELS;\n\tconst { EDIT, DELETE, CLOSE } = SVG_NAMES;\n\n\tconst {\n\t\twrapper,\n\t\tcard,\n\t\tcard__heading,\n\t\tcard__textinfo,\n\t\tcard__cover,\n\t\tcard__name,\n\t\tcard__author,\n\t\tcard__otherDetails,\n\t\tcard__publisher,\n\t\tcard__date,\n\t\tcard__buttons,\n\t\tcard__btn,\n\t} = styles;\n\n\tconst handleBtnEdit = () => {\n\t\tsetIsEdit(true);\n\t};\n\n\tconst handleBtnDelete = () => {\n\t\tonDeleteBook(id);\n\t};\n\n\tconst buttons = [\n\t\t{\n\t\t\ttitle: 'Редактировать',\n\t\t\tid: EDIT,\n\t\t\tfunc: handleBtnEdit,\n\t\t\tlink: `/items/${id}`,\n\t\t},\n\t\t{ title: 'Удалить', id: DELETE, func: handleBtnDelete, link: `/items` },\n\t\t{ title: 'Закрыть', id: CLOSE, link: `/items` },\n\t];\n\n\treturn (\n\t\t<div className={wrapper}>\n\t\t\t<article className={card}>\n\t\t\t\t<h2 className={card__heading}>Book Card</h2>\n\t\t\t\t{isEdit ? (\n\t\t\t\t\t<BookEdit\n\t\t\t\t\t\tbook={book}\n\t\t\t\t\t\tonSetIsEdit={setIsEdit}\n\t\t\t\t\t\tonEditBook={onEditBook}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className={card__cover}>\n\t\t\t\t\t\t\t<img src={image} alt={name} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={card__textinfo}>\n\t\t\t\t\t\t\t<h4 className={card__name}>{name}</h4>\n\t\t\t\t\t\t\t<span className={card__author}>{author}</span>\n\t\t\t\t\t\t\t<div className={card__otherDetails}>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{PUBLISHER}\n\t\t\t\t\t\t\t\t\t<span className={card__publisher}>{publisher}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{DATE}\n\t\t\t\t\t\t\t\t\t<span className={card__date}>{date}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={card__buttons}>\n\t\t\t\t\t\t\t{buttons.map((it) => (\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto={it.link}\n\t\t\t\t\t\t\t\t\tclassName={card__btn}\n\t\t\t\t\t\t\t\t\tkey={it.id}\n\t\t\t\t\t\t\t\t\ttitle={it.title}\n\t\t\t\t\t\t\t\t\tonClick={it?.func}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<SpriteSvg name={it.id} />\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</article>\n\t\t</div>\n\t);\n};\n\nBookCard.propTypes = {\n\tbooks: PropTypes.array,\n\tdeleteBook: PropTypes.func,\n\teditBook: PropTypes.func,\n};\n\nexport default BookCard;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport BookCard from './BookCard';\nimport { requestDeleteBook, requestEditBook } from '@models/actions';\nimport PropTypes from 'prop-types';\n\nclass BookCardContainer extends Component {\n\tshouldComponentUpdate(nextProps) {\n\t\treturn nextProps.location.state !== 'search';\n\t}\n\n\trender() {\n\t\tconst { books, requestDeleteBook, requestEditBook, itemId } = this.props;\n\t\tconst book = books.find((it) => it.id === Number(itemId));\n\t\tif (!books.length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!book) {\n\t\t\treturn <span style={{ margin: 'auto' }}>Выберите книгу!</span>;\n\t\t}\n\n\t\treturn (\n\t\t\t<BookCard\n\t\t\t\tbook={book}\n\t\t\t\tonDeleteBook={requestDeleteBook}\n\t\t\t\tonEditBook={requestEditBook}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nBookCardContainer.propTypes = {\n\tbooks: PropTypes.array,\n\trequestDeleteBook: PropTypes.func,\n\trequestEditBook: PropTypes.func,\n\titemId: PropTypes.string,\n};\n\nconst mapStateToProps = ({ books }) => ({ books });\n\nconst actions = {\n\trequestDeleteBook,\n\trequestEditBook,\n};\n\nexport default connect(mapStateToProps, actions)(BookCardContainer);\n","import React from 'react';\n\nimport './ErrorIndicator.scss';\n\nconst ErrorIndicator = ({ text }) => {\n\treturn (\n\t\t<div className=\"error-indicator\">\n\t\t\t<span>{text}</span>\n\t\t</div>\n\t);\n};\n\nexport default ErrorIndicator;\n","import React from 'react';\nimport FormContainer from '@components/Form/FormContainer';\nimport FilterContainer from '@components/Filter/FilterContainer';\nimport BookListContainer from '@components/BookList/BookListContainer';\nimport BookCardContainer from '@components/BookCard/BookCardContainer';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport styles from './App.module.scss';\nimport ErrorIndicator from '@components/ErrorIndicator';\nimport { useSelector } from 'react-redux';\n\nconst App = () => {\n\tconst error = useSelector((state) => state.error);\n\n\treturn (\n\t\t<Router>\n\t\t\t<div className={styles.app}>\n\t\t\t\t{error && <ErrorIndicator text={error} />}\n\t\t\t\t<FormContainer />\n\t\t\t\t<FilterContainer />\n\t\t\t\t<div className={styles.app__wrapper}>\n\t\t\t\t\t<BookListContainer />\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/items/:id\"\n\t\t\t\t\t\tchildren={({ match, location }) => (\n\t\t\t\t\t\t\t<BookCardContainer\n\t\t\t\t\t\t\t\titemId={match?.params.id || null}\n\t\t\t\t\t\t\t\tlocation={location}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Router>\n\t);\n};\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport books from './books';\nimport filter from './filter';\nimport error from './error';\nimport spinner from './spinner';\n\nexport default combineReducers({\n\tbooks,\n\tfilter,\n\terror,\n\tspinner,\n});\n","import {\n\tADD_BOOK,\n\tDELETE_BOOK,\n\tEDIT_BOOK,\n\tFETCH_BOOKS_SUCCESS,\n} from '@models/actions/actionTypes';\n\nexport default (state = [], action) => {\n\tlet id = state.length === 0 ? 1 : state[state.length - 1].id + 1;\n\n\tswitch (action.type) {\n\t\tcase FETCH_BOOKS_SUCCESS:\n\t\t\treturn action.payload;\n\n\t\tcase ADD_BOOK:\n\t\t\treturn [...state, { ...action.payload, id: id++ }];\n\n\t\tcase DELETE_BOOK:\n\t\t\treturn state.filter((it) => it.id !== action.payload);\n\n\t\tcase EDIT_BOOK:\n\t\t\treturn state.map((it) => {\n\t\t\t\treturn it.id === action.payload.id ? { ...action.payload.data } : it;\n\t\t\t});\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { CHANGE_FILTER } from '@models/actions/actionTypes';\n\nexport default (state = '', action) => {\n\tswitch (action.type) {\n\t\tcase CHANGE_FILTER:\n\t\t\treturn action.payload;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { HIDE_ERROR, SHOW_ERROR } from '@models/actions/actionTypes';\n\nexport default (state = '', action) => {\n\tswitch (action.type) {\n\t\tcase SHOW_ERROR:\n\t\t\treturn action.payload;\n\n\t\tcase HIDE_ERROR:\n\t\t\treturn null;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { HIDE_SPINNER, SHOW_SPINNER } from '@models/actions/actionTypes';\n\nexport default (state = false, action) => {\n\tswitch (action.type) {\n\t\tcase SHOW_SPINNER:\n\t\t\treturn true;\n\n\t\tcase HIDE_SPINNER:\n\t\t\treturn false;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import axios from 'axios';\n\nexport default axios.create({\n\tbaseURL: 'http://localhost:3200/item',\n\theaders: { 'Content-Type': 'application/json;charset=utf-8' },\n\tresponseType: 'json',\n});\n","import axios from '@api/axios';\n\nexport const fetchGetBooks = () => axios.get(`/`);\nexport const fetchPostBook = (book) => axios.post(`/`, book);\nexport const fetchDeleteBook = (id) => axios.delete(`/${id}`);\nexport const fetchPutBook = (data, id) => axios.put(`/${id}`, data);\n","import { takeEvery, call, put, all, delay } from 'redux-saga/effects';\nimport {\n\tFETCH_BOOKS,\n\tUPLOAD_BOOK,\n\tREQUEST_DELETE_BOOK,\n\tREQUEST_EDIT_BOOK,\n} from '@models/actions/actionTypes';\nimport {\n\tfetchBooksSuccess,\n\taddBook,\n\tdeleteBook,\n\teditBook,\n\tshowError,\n\thideError,\n\tshowSpinner,\n\thideSpinner,\n} from '@models/actions';\nimport {\n\tfetchGetBooks,\n\tfetchPostBook,\n\tfetchDeleteBook,\n\tfetchPutBook,\n} from '@api/request';\n\nfunction* showAndHideError(text, error) {\n\tyield put(showError(`${text} ${error}`));\n\tyield delay(4000);\n\tyield put(hideError());\n}\n\nfunction* workerFetchBooks() {\n\ttry {\n\t\tyield put(showSpinner());\n\t\tconst { data } = yield call(fetchGetBooks);\n\t\tyield put(fetchBooksSuccess(data));\n\t\tyield put(hideSpinner());\n\t} catch (error) {\n\t\tyield put(hideSpinner());\n\t\tyield showAndHideError('Данные не загрузились!', error);\n\t}\n}\n\nfunction* workerUploadBook({ payload }) {\n\ttry {\n\t\tyield fetchPostBook(payload);\n\t\tyield put(addBook(payload));\n\t} catch (error) {\n\t\tyield showAndHideError('Данные не были отправлены на сервер!', error);\n\t}\n}\n\nfunction* workerDeleteBook({ payload }) {\n\ttry {\n\t\tyield fetchDeleteBook(payload);\n\t\tyield put(deleteBook(payload));\n\t} catch (error) {\n\t\tyield showAndHideError('Ошибка запроса на сервер!', error);\n\t}\n}\n\nfunction* workerEditBook({ payload }) {\n\ttry {\n\t\tconst { id, data } = payload;\n\t\tyield fetchPutBook(data, id);\n\t\tyield put(editBook(data, id));\n\t} catch (error) {\n\t\tyield showAndHideError('Ошибка запроса на сервер!', error);\n\t}\n}\n\nexport default function* () {\n\tyield all([\n\t\ttakeEvery(FETCH_BOOKS, workerFetchBooks),\n\t\ttakeEvery(UPLOAD_BOOK, workerUploadBook),\n\t\ttakeEvery(REQUEST_DELETE_BOOK, workerDeleteBook),\n\t\ttakeEvery(REQUEST_EDIT_BOOK, workerEditBook),\n\t]);\n}\n","import books from './books';\n\nexport default function* () {\n\tyield books();\n}\n","import { createStore, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport reducer from '@models/reducers';\nimport { locStorKey } from '@constants';\nimport rootSaga from '@sagas';\n\nconst initialState = JSON.parse(localStorage.getItem(locStorKey)) || {\n\tbooks: [],\n\tfilter: '',\n\terror: null,\n\tspinner: false,\n};\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(\n\treducer,\n\tinitialState,\n\tapplyMiddleware(sagaMiddleware),\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from '@components/App';\nimport store from './store';\nimport { Provider } from 'react-redux';\nimport { locStorKey } from '@constants';\nimport '@styles/reset.css';\nimport '@styles/global.scss';\n\nstore.subscribe(() => {\n\tlocalStorage.setItem(locStorKey, JSON.stringify(store.getState()));\n});\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root'),\n);\n"],"sourceRoot":""}